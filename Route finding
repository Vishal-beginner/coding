// Prog to find route ( 2 -children directed graph)



#include<iostream>
#include<map>
#include<vector>
using namespace std;
 
int vis[100] = { 0 };
void setVis()
{
    for (int i = 0; i < 100; i++)
        vis[i] = 0;
}
 
int findPath(int u, map<int, vector<int>>mp)
{
    vis[u] = 1;
    if (u == 99)
        return 1;
    int val = 0;
    for (int adj : mp[u])
    {
        if (vis[adj] == 0)
            val=findPath(adj, mp);
        if (val == 1)
            return 1;
    }
    return 0;
}
 
void a007k(int t)
{
    int x,k;
    cin >>x>> k;
    int a, b;
    setVis();
 
    map<int, vector<int>> mp;
    for (int i = 0; i < k; i++)
    {
        cin >> a >> b;
        mp[a].push_back(b);
    }
 
    cout<<"#"<<t<<" "<<findPath(0, mp)<<endl;
}
 
 
int main()
{
 
    for (int i = 1; i <= 10; i++)
    {
        a007k(i);
    }
 
}
